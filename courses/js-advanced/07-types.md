# Типы функций в JavaScript

## Основные виды функций

### 1. Function Declaration (Объявление функции)

```javascript
function sum(a, b) {
  return a + b;
}
```

#### Особенности:
- Создается до выполнения кода (поднимается - hoisting)
- Можно вызывать до объявления
- Имеет собственное имя

### 2. Function Expression (Функциональное выражение)

```javascript
const sum = function(a, b) {
  return a + b;
};
```

#### Особенности:
- Создается в момент выполнения
- Нельзя вызвать до объявления
- Может быть анонимной

### 3. Named Function Expression (Именованное функциональное выражение)

```javascript
const factorial = function calc(n) {
  return n <= 1 ? 1 : n * calc(n - 1);
};
```

#### Особенности:
- Имя доступно только внутри функции
- Полезно для рекурсивных вызовов
- Удобно при отладке (имя отображается в стеке вызовов)

## Сравнение типов функций

| Характеристика | Declaration | Expression | Named Expression |
|----------------|-------------|------------|------------------|
| Hoisting | ✅ Да | ❌ Нет | ❌ Нет |
| Доступность имени | Глобально | Нет имени | Только внутри |
| Рекурсивные вызовы | По имени | Через переменную | По внутреннему имени |
| Отладка | Хорошо | Плохо | Хорошо |

## Практические примеры

### Разница в hoisting

```javascript
// Function Declaration - работает
console.log(sum(2, 3)); // 5
function sum(a, b) { return a + b; }

// Function Expression - ошибка
console.log(multiply(2, 3)); // ReferenceError
const multiply = function(a, b) { return a * b; };
```

### Рекурсия с Named Function Expression

```javascript
const power = function pow(x, n) {
  return n == 1 ? x : x * pow(x, n - 1);
};

console.log(power(2, 3)); // 8
```

### Присвоение функции другой переменной

```javascript
function sayHi() { console.log('Привет'); }
const greet = sayHi;

greet(); // 'Привет'
sayHi = null;
greet(); // Все еще работает
```

## Современные альтернативы (ES6+)

### Стрелочные функции

```javascript
const sum = (a, b) => a + b;
```

#### Отличия:
- Нет собственного `this`
- Нет `arguments`
- Не могут быть использованы как конструкторы

## Выводы

1. Для обычных случаев используйте Function Declaration
2. Для callback'ов и анонимных функций - Function Expression
3. Для сложных рекурсивных функций - Named Function Expression
4. В современном коде предпочтительны стрелочные функции для лаконичности

----

## Домашнее задание

### Уровень 1
**1. Function Declaration**

Создайте функцию `greetUser` через Function Declaration, которая принимает имя пользователя и возвращает строку приветствия: "Привет, [имя]!". Вызовите функцию до ее объявления.

**2. Function Expression**

Создайте функцию `calculateArea` через Function Expression, которая вычисляет площадь прямоугольника (принимает ширину и высоту). Вызовите функцию после объявления.

----

### Уровень 2
**3. Named Function Expression**

Создайте функцию для вычисления факториала через Named Function Expression. Используйте внутреннее имя `fact` для рекурсивных вызовов.

**4. Сравнение типов функций**

Создайте три варианта одной функции (Declaration, Expression, Named Expression) для проверки четности числа. Продемонстрируйте разницу в hoisting.

----

### Уровень 3
**5. Присвоение функций**

Создайте Function Declaration `sayGoodbye`, затем присвойте ее новой переменной `farewell`. Покажите, что происходит при изменении оригинальной функции.

**6. Рекурсивные вызовы**

Создайте функцию для вычисления чисел Фибоначчи, используя Named Function Expression. Сравните с обычной Function Expression.

----

### Уровень 4
**7. Функции как аргументы**

Напишите функцию `applyOperation`, которая принимает два числа и функцию-операцию (сложение, вычитание и т.д.). Реализуйте операции через Function Expression.

**8. IIFE (Immediately Invoked Function Expression)**

Создайте IIFE, которая вычисляет среднее значение переданных аргументов и сразу выводит результат.

----

### Уровень 5
**9. Эмуляция приватных методов**

Используя Named Function Expression, создайте "класс" Calculator с методами add/subtract, где методы имеют доступ к приватному состоянию.

**10. Динамическое создание функций**

Напишите функцию-генератор, которая создает и возвращает новые функции для возведения в степень (2, 3, 4 и т.д.) используя Function Expression.

----

### Бонусное задание
**11. Полифил для bind()**

Реализуйте собственную версию метода `bind`, используя Function Expression.

**12. Анализ стека вызовов**

Сравните стек вызовов для Function Declaration, Function Expression и Named Function Expression при рекурсивных вызовах.
