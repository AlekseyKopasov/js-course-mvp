# Псевдомассив arguments

## Основные концепции

**arguments** — это объект, доступный внутри функций, который содержит все переданные аргументы.

### Особенности:
- Доступен во всех функциях (кроме стрелочных)
- Является псевдомассивом (имеет `length` и числовые индексы)
- Не поддерживает методы массивов (`push`, `map` и т.д.)
- Тип — `object` (не `array`)

## Практические примеры

### 1. Базовое использование

```javascript
function showArgs() {
  console.log(arguments); // Псевдомассив аргументов
  console.log(arguments.length); // Количество аргументов
  console.log(typeof arguments); // "object"
}

showArgs(1, 'text', true);
// Arguments(3) [1, "text", true]
// 3
// "object"
```

### 2. Преобразование в настоящий массив

```javascript
// Способ 1: цикл for
function convertToArray() {
  const arr = [];
  for (let i = 0; i < arguments.length; i++) {
    arr.push(arguments[i]);
  }
  return arr;
}

// Способ 2: Array.from (ES6)
const argsArray = Array.from(arguments);

// Способ 3: spread оператор (ES6)
const argsArray = [...arguments];
```

### 3. Функция с переменным числом аргументов

```javascript
function joinWithSeparator(separator) {
  const parts = [];
  // Начинаем с 1, так как 0-й аргумент - separator
  for (let i = 1; i < arguments.length; i++) {
    parts.push(arguments[i]);
  }
  return parts.join(separator);
}

console.log(joinWithSeparator(' - ', 'a', 'b', 'c')); // "a - b - c"
```

## Современные альтернативы (ES6+)

### Rest параметры

```javascript
function modernFunction(...args) {
  // args — настоящий массив
  console.log(args.map(x => x * 2));
}
```

### Отличия от rest параметров:

| Характеристика | arguments | Rest параметры |
|----------------|-----------|----------------|
| Тип | Псевдомассив | Настоящий массив |
| Доступность | Все функции | Только при объявлении |
| Стрелочные функции | ❌ Нет | ✅ Да |
| Явное объявление | ❌ Нет | ✅ Да |

## Важные замечания

1. В строгом режиме (`'use strict'`) `arguments` не связан с параметрами функции
2. Не рекомендуется использовать в новом коде (лучше rest параметры)
3. Может быть полезен при работе с legacy-кодом

> Псевдомассив `arguments` — важная часть JavaScript, хотя в современном коде предпочтительнее использовать rest параметры.

----

## Домашнее задание

### Уровень 1
**1. Базовое использование arguments**

Напишите функцию `logArguments`, которая выводит в консоль:
* Количество переданных аргументов
* Тип объекта arguments
* Все аргументы через запятую

Пример вызова:
```javascript
logArguments(1, "text", true);
/*
Количество аргументов: 3
Тип arguments: object
Аргументы: 1, text, true
*/
```

**2. Сумма произвольного количества чисел**

Создайте функцию `sumAll`, которая возвращает сумму всех переданных чисел, используя `arguments`.

Пример:
```javascript
console.log(sumAll(1, 2, 3)); // 6
console.log(sumAll(10, 20));  // 30
```

----

### Уровень 2
**3. Поиск максимального значения**

Напишите функцию `findMax`, которая находит максимальное значение среди всех переданных аргументов (числовых).

Пример:
```javascript
console.log(findMax(5, 2, 8, 1)); // 8
```

**4. Фильтрация строк**

Создайте функцию `filterStrings`, которая возвращает массив только строковых аргументов.

Пример:
```javascript
console.log(filterStrings(1, "a", true, "b", 5, "c")); // ["a", "b", "c"]
```

----

### Уровень 3
**5. Преобразование arguments в массив**

Напишите три варианта функции `convertToArray`, которая преобразует `arguments` в настоящий массив:
* Используя цикл `for`
* Используя `Array.from()`
* Используя spread оператор

**6. Объединение аргументов с условием**

Создайте функцию `joinIf`, которая принимает условие (функцию-предикат) и объединяет только те аргументы, которые удовлетворяют условию.

Пример:
```javascript
const result = joinIf(x => x.length > 3, "cat", "elephant", "dog", "giraffe");
console.log(result); // "elephant giraffe"
```

----

### Уровень 4
**7. Каррирование с arguments**

Реализуйте функцию `curry`, которая позволяет каррировать любую функцию, используя `arguments`.

Пример:
```javascript
function sum(a, b, c) { return a + b + c; }
const curriedSum = curry(sum);
console.log(curriedSum(1)(2)(3)); // 6
```

**8. Мемоизация с переменным числом аргументов**

Создайте функцию `memoize`, которая кэширует результаты вызова функции с произвольным количеством аргументов.

----

### Уровень 5
**9. Полифил для arguments**

Реализуйте полифил, который эмулирует поведение `arguments` для стрелочных функций.

**10. Декоратор для логирования аргументов**

Напишите декоратор `logArgumentsDecorator`, который логирует все аргументы вызова функции и возвращаемое значение.

Пример:
```javascript
function sum(a, b) { return a + b; }
const loggedSum = logArgumentsDecorator(sum);
loggedSum(2, 3);
/*
Аргументы: 2, 3
Результат: 5
*/
```

----

### Бонусное задание
**11. Собственная реализация arguments**

Создайте функцию `createArguments`, которая возвращает объект, аналогичный `arguments`, принимая массив значений. Объект должен иметь:
* Свойство `length`
* Числовые индексы
* Метод `toArray()` для преобразования в массив
* Свойство `callee` (по аналогии с оригинальным `arguments`)
